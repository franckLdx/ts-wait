!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self)["@franckldx/ts-wait"]={})}(this,(function(t){"use strict";function n(t,n,e,o){return new(e||(e=Promise))((function(i,r){function u(t){try{s(o.next(t))}catch(t){r(t)}}function c(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(u,c)}s((o=o.apply(t,n||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const e=6e4,o=(t=e)=>new Promise((n=>setTimeout(n,t)));function i(t,o=e,i=new u("function did not complete within allowed time")){return n(this,void 0,void 0,(function*(){const n=Symbol("DELAY_EXPIRED"),e=yield Promise.race([t(),r(o,n)]);if(e===n)throw i;return e}))}const r=(t,e)=>n(void 0,void 0,void 0,(function*(){return yield o(t),e}));class u extends Error{constructor(){super(...arguments),this.isTimeout=!0}}t.TimeoutError=u,t.isTimeoutError=function(t){return!0===t.isTimeout},t.wait=o,t.waitUntil=function(t,e,o){return n(this,void 0,void 0,(function*(){const n=(t=>()=>new Promise(((n,e)=>{try{n(t())}catch(t){e(t)}})))(t);return yield i(n,e,o)}))},t.waitUntilAsync=i}));
