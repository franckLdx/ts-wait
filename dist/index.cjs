"use strict";function t(t,n,o,e){return new(o||(o=Promise))((function(i,r){function s(t){try{c(e.next(t))}catch(t){r(t)}}function u(t){try{c(e.throw(t))}catch(t){r(t)}}function c(t){var n;t.done?i(t.value):(n=t.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,u)}c((e=e.apply(t,n||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const n=6e4,o=(t=n)=>new Promise((n=>setTimeout(n,t)));function e(o,e=n,s=new r("function did not complete within allowed time")){return t(this,void 0,void 0,(function*(){const t=Symbol("DELAY_EXPIRED"),n=yield Promise.race([o(),i(e,t)]);if(n===t)throw s;return n}))}const i=(n,e)=>t(void 0,void 0,void 0,(function*(){return yield o(n),e}));class r extends Error{constructor(){super(...arguments),this.isTimeout=!0}}exports.TimeoutError=r,exports.isTimeoutError=function(t){return!0===t.isTimeout},exports.wait=o,exports.waitUntil=function(n,o,i){return t(this,void 0,void 0,(function*(){const t=(t=>()=>new Promise(((n,o)=>{try{n(t())}catch(t){o(t)}})))(n);return yield e(t,o,i)}))},exports.waitUntilAsync=e;
